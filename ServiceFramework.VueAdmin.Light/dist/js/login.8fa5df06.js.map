{"version":3,"sources":["webpack:///./src/views/login/index.vue?868c","webpack:///./src/views/login/index.vue?d0a6","webpack:///./src/views/login/index.vue?95bf","webpack:///./src/views/login/index.vue?d16d","webpack:///./src/views/login/index.vue?3782","webpack:///./src/views/login/index.vue?2c19","webpack:///./src/views/login/index.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","loginForm","loginRules","_v","model","value","callback","$$v","$set","expression","key","passwordType","nativeOn","$event","type","indexOf","_k","keyCode","handleLogin","on","showPwd","staticStyle","loading","preventDefault","staticRenderFns","validateUsername","rule","Error","validatePassword","length","username","password","validator","trigger","showDialog","otherQuery","route","query","redirect","getOtherQuery","$refs","focus","$nextTick","validate","valid","Login","$router","push","path","setTimeout","Object","keys","reduce","acc","cur","immediate","name","component"],"mappings":"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","file":"js/login.8fa5df06.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuBg\":\"#304156\",\"menuText\":\"#bfcbd9\",\"menuActiveText\":\"#409eff\"};","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=e5bf3dc2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=e5bf3dc2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"autocomplete\":\"on\",\"label-position\":\"left\"}},[_c('div',{staticClass:\"title-container\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"\\n       登陆界面\\n      \")])]),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('span',{staticClass:\"svg-container\"},[_c('svg-icon',{attrs:{\"name\":\"user\"}})],1),_c('el-input',{ref:\"username\",attrs:{\"name\":\"username\",\"type\":\"text\",\"autocomplete\":\"on\",\"placeholder\":\"username\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('span',{staticClass:\"svg-container\"},[_c('svg-icon',{attrs:{\"name\":\"password\"}})],1),_c('el-input',{key:_vm.passwordType,ref:\"password\",attrs:{\"type\":_vm.passwordType,\"placeholder\":\"password\",\"name\":\"password\",\"autocomplete\":\"on\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}}),_c('span',{staticClass:\"show-pwd\",on:{\"click\":_vm.showPwd}},[_c('svg-icon',{attrs:{\"name\":_vm.passwordType === 'password' ? 'eye-off' : 'eye-on'}})],1)],1),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"30px\"},attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin($event)}}},[_vm._v(\"\\n      Sign in\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport { Route } from 'vue-router'\nimport { Dictionary } from 'vue-router/types/router'\nimport { Form as ElForm, Input } from 'element-ui'\nimport { UserModule } from '@/store/modules/user'\nimport { isValidUsername } from '@/utils/validate'\n\n@Component({\n  name: 'Login'\n})\nexport default class extends Vue {\n  private validateUsername = (rule: any, value: string, callback: Function) => {\n    if (!isValidUsername(value)) {\n      callback(new Error('Please enter the correct user name'))\n    } else {\n      callback()\n    }\n  }\n  private validatePassword = (rule: any, value: string, callback: Function) => {\n    if (value.length < 6) {\n      callback(new Error('The password can not be less than 6 digits'))\n    } else {\n      callback()\n    }\n  }\n  private loginForm = {\n    username: 'admin',\n    password: '111111'\n  }\n  private loginRules = {\n    username: [{ validator: this.validateUsername, trigger: 'blur' }],\n    password: [{ validator: this.validatePassword, trigger: 'blur' }]\n  }\n  private passwordType = 'password'\n  private loading = false\n  private showDialog = false\n  private redirect?: string\n  private otherQuery: Dictionary<string> = {}\n\n  @Watch('$route', { immediate: true })\n  private onRouteChange(route: Route) {\n    // TODO: remove the \"as Dictionary<string>\" hack after v4 release for vue-router\n    // See https://github.com/vuejs/vue-router/pull/2050 for details\n    const query = route.query as Dictionary<string>\n    if (query) {\n      this.redirect = query.redirect\n      this.otherQuery = this.getOtherQuery(query)\n    }\n  }\n\n  mounted() {\n    if (this.loginForm.username === '') {\n      (this.$refs.username as Input).focus()\n    } else if (this.loginForm.password === '') {\n      (this.$refs.password as Input).focus()\n    }\n  }\n\n  private showPwd() {\n    if (this.passwordType === 'password') {\n      this.passwordType = ''\n    } else {\n      this.passwordType = 'password'\n    }\n    this.$nextTick(() => {\n      (this.$refs.password as Input).focus()\n    })\n  }\n\n  private handleLogin() {\n    (this.$refs.loginForm as ElForm).validate(async(valid: boolean) => {\n      if (valid) {\n        this.loading = true\n        await UserModule.Login(this.loginForm)\n        this.$router.push({\n            path: this.redirect || '/',\n            query: this.otherQuery\n        },\n        ()=> { },\n        () => { }\n        )\r\n      \n        \n        // Just to simulate the time of the request\n        setTimeout(() => {\n          this.loading = false\n        }, 0.5 * 1000)\n      } else {\n        return false\n      }\n    })\n  }\n\n  private getOtherQuery(query: Dictionary<string>) {\n    return Object.keys(query).reduce((acc, cur) => {\n      if (cur !== 'redirect') {\n        acc[cur] = query[cur]\n      }\n      return acc\n    }, {} as Dictionary<string>)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e5bf3dc2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=e5bf3dc2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5bf3dc2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}