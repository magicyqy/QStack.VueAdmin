(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tree"],{4373:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.edit(null,0)}}},[e._v("\n      添加\n    ")]),n("el-input",{staticStyle:{"margin-bottom":"30px"},attrs:{placeholder:"Filter keyword"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("el-tree",{attrs:{data:e.data2,"node-key":"id",props:e.defaultProps,"default-expand-all":"","expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[e._v(e._s(r.label))]),n("span",[e._v(e._s(a.flowNo))]),n("span",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.edit(a,0)}}},[e._v("\n            添加\n          ")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.edit(a,1)}}},[e._v("\n            编辑\n          ")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(r,a)}}},[e._v("\n            删除\n          ")])],1)])}}])}),n("el-dialog",{ref:"editDialog",attrs:{title:e.d_title,visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("el-form-item",{attrs:{label:"导航名称","label-width":"120px"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),n("el-form",{model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("el-form-item",{attrs:{label:"导航地址","label-width":"120px"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1)],1),n("el-form",{model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("el-form-item",{attrs:{label:"排序","label-width":"120px"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.flowNo,callback:function(t){e.$set(e.form,"flowNo",t)},expression:"form.flowNo"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.comfirmEdit}},[e._v("确定")])],1)],1)],1)},a=[],i=(n("7f7f"),n("96cf"),n("3b8d")),o=n("d225"),l=n("b0b4"),s=n("308d"),u=n("6bb5"),c=n("4e2b"),f=n("9ab4"),d=n("60a3"),m=n("b32d"),p=function(){return Object(m["a"])({url:"/navigation/getMenus",method:"get"})},b=function(e){return Object(m["a"])({url:"/navigation/postMenu",method:"post",data:e})},h=function(e){return Object(m["a"])({url:"/navigation/deleteMenu/"+e,method:"get"})},v=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.form={id:0,name:"",url:"",flowNo:0,parentId:null,operate:0},e.filterText="",e.data2=[],e.defaultProps={children:"children",label:"name"},e.d_title="",e.d_titles=["添加","编辑","删除"],e.dialogVisible=!1,e}return Object(c["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){this.fetchCatagory()}},{key:"fetchCatagory",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,n=t.data,this.data2=n;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onFilterTextChange",value:function(e){this.$refs.tree2.filter(e)}},{key:"filterNode",value:function(e,t){return!e||t.label&&-1!==t.label.indexOf(e)}},{key:"edit",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dialogVisible=!0,this.d_title=this.d_titles[n],this.form=0!=n?Object.assign(this.form,t,{operate:n}):{id:0,name:"",parentId:null==t?null:t.id,url:"",flowNo:0,operate:n};case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.parent,r.data.children,!(n&&n.children.length>0)){e.next=5;break}return this.$message("存在子节点"),e.abrupt("return");case 5:this.edit(n,2);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"comfirmEdit",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(2==this.form.operate||""!=this.form.name){e.next=2;break}return e.abrupt("return");case 2:if(2==this.form.operate){e.next=7;break}return e.next=5,b(this.form);case 5:e.next=9;break;case 7:return e.next=9,h(this.form.id);case 9:this.$notify({title:"Success",message:"".concat(this.d_titles[this.form.operate]," successfully"),type:"success",duration:2e3}),this.dialogVisible=!1,this.fetchCatagory();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleClose",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(d["c"]);Object(f["a"])([Object(d["d"])("filterText")],v.prototype,"onFilterTextChange",null),v=Object(f["a"])([Object(d["a"])({name:"NavigationMenu"})],v);var x=v,g=x,k=(n("8a816"),n("2877")),w=Object(k["a"])(g,r,a,!1,null,"63a8016c",null);t["default"]=w.exports},"84ac":function(e,t,n){},"8a816":function(e,t,n){"use strict";var r=n("84ac"),a=n.n(r);a.a}}]);
//# sourceMappingURL=tree.cf89f8b6.js.map